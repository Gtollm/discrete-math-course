\documentclass[a4paper,12pt]{article}
\usepackage{mypreamble}

%% Page setup
\geometry{
    margin=2cm,
    includehead,
    % includefoot,
    headsep=\baselineskip,
}
\pagestyle{fancy}
\fancyfoot{}
\MakeDoubleHeader% {<l1>}{<l2>}{<r1>}{<r2>}
    {\TextHomeworkEng~\#2}
    {Binary Relations}
    {\TextDiscreteMathEng}
    {\IconFall~Fall 2021}

%% Add custom setup below

\usepackage{physics}

% %% Counter for relations
% \newcounter{relindexno}
% \newcommand{\relindex}{%
%     \stepcounter{relindexno}%
%     \arabic{relindexno}}

%% Math enquote
\newcommand{\mathenquote}[1]{\text{\enquote{$#1$\kern.3ex}}}

%% Jaccard index
\newcommand{\Jac}{%
    \mathrm{Jac}}

%% Colors for the prime factorization
\colorlet{my-green}{green!60!black}
\colorlet{my-blue}{blue!60!black}


\begin{document}
\selectlanguage{english}
\begin{tasks}
    %% Task: Check properties of relations.
    \item For each given relation $R_i \subseteq {M_i}^2$, determine whether it is \textit{reflexive}, \textit{irreflexive}, \textit{coreflexive}, \textit{symmetric}, \textit{antisymmetric}, \textit{asymmetric}, \textit{transitive}, \textit{antitransitive}, \textit{semiconnex}, \textit{connex}, \textit{left/right Euclidean}, \textit{dense}.
    Organize your answer in a table (\eg columns \--- relations, rows \--- properties).

    \newcommand{\myindex}{\arabic{subtasksi}}

    \begin{multicols}{2}
    \begin{subtasks}
        \item $M_{\myindex} = \Real$ \\
        $x \rel[R_{\myindex}] y \iff \abs{x - y} \leq 1$

        \item $M_{\myindex} = \powerset{\Set{a,b,c}}$ \\
        $R_{\myindex} = \mathenquote{\subseteq}$

        \item $M_{\myindex} = \Set{a,b,c,d}$\quad
        $\relmatrix{R_{\myindex}} = \begin{bsmallmatrix}
            0 & 1 & 0 & 1 \\
            0 & 0 & 0 & 1 \\
            1 & 1 & 0 & 0 \\
            0 & 0 & 1 & 0 \\
        \end{bsmallmatrix}$

        \item $M_{\myindex} = \Set{\text{\enquote{rock}}, \text{\enquote{scissors}}, \text{\enquote{paper}}}$ \\
        $R_{\myindex} = \Set{\Pair{x,y} \given x \text{ beats } y}$

        % \item $R_{\relindex} = \Set{\Pair{1,1}, \Pair{2,2}, \Pair{3,3}}$

        % \item $R_{\relindex} = \Set{\Pair{3,1}, \Pair{3,2}, \Pair{1,2}}$

        % \item $R_{\relindex} = \Set{\Pair{x,y} \given x < y}$

        % \item $\relmatrix{R_{\relindex}} = \begin{bsmallmatrix}
        %     1 & 0 & 1 \\
        %     1 & 1 & 0 \\
        %     0 & 0 & 1 \\
        % \end{bsmallmatrix}$

        % \item $R_{\relindex} = \Set{\Pair{1,3}, \Pair{2,3}, \Pair{3,1}, \Pair{1,2}}$

        % \item $R_{\relindex} = \Set{\Pair{3,2}, \Pair{2,2}, \Pair{2,3}, \Pair{3,3}}$

        % \item $R_{\relindex} = \Set{\Pair{x,y} \given x^2 + (-y)^3 \congruent[3] 2}$

        % \item $\relmatrix{R_{\relindex}} = \begin{bsmallmatrix}
        %     0 & 0 & 0 \\
        %     0 & 0 & 0 \\
        %     1 & 1 & 0 \\
        % \end{bsmallmatrix}$
    \end{subtasks}
    \end{multicols}


    %% Task: Prove some statements about relation properties.
    \item Prove (rigorously) or disprove (by providing a counterexample) the following statements about arbitrary homogeneous relations $R \subseteq M^2$ and $S \subseteq M^2$:

    \begin{multicols}{2}
    \begin{subtasks}
        \item If $R$ and $S$ are \textit{reflexive}, then $R \intersection S$ is so.
        \item If $R$ and $S$ are \textit{symmetric}, then $R \intersection S$ is so.
        \item If $R$ and $S$ are \textit{transitive}, then $R \intersection S$ is so.
        \item If $R$ and $S$ are \textit{reflexive}, then $R \union S$ is so.
        \item If $R$ and $S$ are \textit{symmetric}, then $R \union S$ is so.
        \item If $R$ and $S$ are \textit{transitive}, then $R \union S$ is so.
    \end{subtasks}
    \end{multicols}


    %% Task: Explore the equinumerosity relation and quotient set.
    \item An equinumerosity relation $R$ over sets is defined as follows: $A \rel B \iff \card{A} =\nobreak \card{B}$.

    \begin{subtasks}
        \item Show that $R$ is an equivalence relation.
        \item Find the quotient set of $\powerset{\Set{a,b,c,d}}$ by $R$.
    \end{subtasks}


    %% Task: Explore the Jaccard index.
    \item Let $R_{\theta}$ be a relation of $\theta$-similarity of finite sets defined as follows\footnote{A set $A$ is said to be $\theta$-similar to $B$ \textit{iff} the Jaccard index $\Jac(A,B)$ for these sets is at least $\theta$. Obviously, $\theta \in [0; 1] \subseteq \Real$.}: $A \rel[R_{\theta}] B \iff \Jac(A,B) \geq \theta$, where $\Jac(A,B) = \frac{\card{A \intersection B}}{\card{A \union B}}$ is a Jaccard index\Href{https://en.wikipedia.org/wiki/Jaccard_index}.

    \begin{subtasks}
        \item Draw the graph of a relation $R_{\theta} \subseteq \Set{A_i}^2$, where $\theta = 0.25$, $A_1 = \Set{1,2,5,6}$, $A_2 = \Set{2,3,4,5,7,9}$, $A_3 = \Set{1,4,5,6}$, $A_4 = \Set{3,7,9}$, $A_5 = \Set{1,5,6,8,9}$.
        \item Determine whether $\theta$-similarity is a tolerance relation.
        \item Determine whether $\theta$-similarity is an equivalence relation.
    \end{subtasks}


    %% Task: Explore the divisibility relation.
    \item Let $H = \Set{1, 2, 4, 5, 10, 12, 20}$.
    Consider a divisibility relation $R \subseteq H^2$ defined as follows: $x \!\rel\!\nobreak y \iff y \divby\nobreak x$.

    \begin{subtasks}
        \item Sort $R$ (as a set of pairs) lexicographically\footnote{Lexicographic order for pairs: $\Pair{a,b} \preceq \Pair{a',b'} \iff (a < a') \lor ((a = a') \land (b \leq b'))$}.

        \item Show that $R$ is a partial order.

        \item Determine whether $R$ is a linear (total) order.

        \item Draw the Hasse diagram for a \textit{graded poset} $\Triple{H, R, \rho}$, where $\rho : H \to \NaturalZero$ is a grading function which maps a number $n \in H$ to the sum of all exponents appearing in its prime factorization, \eg $\rho(20) = \rho(2^{\mathcolor{my-green}{2}} \cdot 5^{\textcolor{my-blue}{1}}) = \mathcolor{my-green}{2} + \textcolor{my-blue}{1} = 3$, so the number 20 would have the 3rd rank (bottom-up).

        \item Find the minimal, minimum (least), maximal and maximum (greatest) elements in the poset~$\Pair{H, R}$.
        If there are multiple or none, explain why.

        \item Perform a topological sort\Href{https://en.wikipedia.org/wiki/Topological_sorting} of the poset $\Pair{H, R}$.
    \end{subtasks}


    % Task: explore the transitive closure.
    \item Prove that the transitive closure $R^{+}$ is in fact transitive.

    \begin{terms}
        \item $R^{+} = \bigunionclap{n \in \NaturalPlus} R^n$ is a \textit{transitive closure} of $R \subseteq M^2$, where
        \item $R^{k+1} = R^k \circ R$ is a \textit{compositional (functional) power}\footnote{Note: this is \textit{not a Cartesian power}, despite of the same notation~$R^n$. Another possible notation for compositional power~is~$R^{\circ n}$, but it is too wild to use it here.},
        \item $R^1 = R$,
        \item $S \circ R = \Set{\Pair{x,y} \given \exists z : (x \rel[R] z) \land (z \rel[S] y)}$ is a \textit{composition} (\textit{relative product}) of relations $R$ and $S$.
    \end{terms}

    % \item \dots
\end{tasks}
\end{document}
